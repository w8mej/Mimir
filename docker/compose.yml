
version: "3.9"
services:
  coordinator:
    build: { context: .., dockerfile: docker/Dockerfile.coordinator }
    image: ghcr.io/example/mpcprompt-coordinator:local
    container_name: mpcpoc-coordinator
    ports: ["8080:8080","9090:9090","8081:8081"]
    networks: [mpcnet]
    restart: unless-stopped
  prometheus:
    image: prom/prometheus:latest
    container_name: mpcpoc-prom
    volumes: [ "./prometheus.yml:/etc/prometheus/prometheus.yml:ro" ]
    ports: ["9091:9090"]
    networks: [mpcnet]
  grafana:
    image: grafana/grafana:latest
    container_name: mpcpoc-grafana
    ports: ["3001:3000"]
    networks: [mpcnet]
networks: { mpcnet: { driver: bridge } }
